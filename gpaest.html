<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estimate.exe</title>
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/4dcfb46ad8.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300&family=Source+Code+Pro&display=swap" rel="stylesheet">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P16G6YPXTF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-P16G6YPXTF');
</script>

</head>
<body>
    <style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
  background-color: #f2f2f2;
}

h1 {
  text-align: center;
}

b{
    font-family: 'Source Code Pro', monospace;
    
}

#dropdownArea {
  display: none;
}

#dropdownArea.open {
  display: block;
}

#dropdownArea2 {
  display: none;
}

#dropdownArea2.open {
  display: block;
}

#intro{
    
    display: flex;
    flex-direction: column;
    align-items: start;
    background-color: #ffffff;
    margin-top: 20px;
    padding: 20px;
    cursor: pointer;
}

#intro h6{
    font-size: 16px;
    font-weight: 400;
    font-family: 'Source Code Pro', monospace;
    color: black;
}

#intro p{
    font-size: 16px;
    font-weight: 600;
    font-family: 'Source Code Pro', monospace;
    color: black;
}

#gpaest{
    padding-top: 20px;}

.container {
  max-width: 600px;
  margin: 0 auto;
  background-color: #fff;
  padding: 20px;
  border-radius: 5px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

#result {
  margin-top: 20px;
  text-align: center;
  font-weight: bold;
  font-size: 20px;
}

#courseTable {
  width: 100%;
  margin-bottom: 10px;
  border-collapse: collapse;
}

#courseTable th,
#courseTable td {
  padding: 10px;
  text-align: center;
}

#courseTable th {
  background-color: #f2f2f2;
  font-weight: bold;
}

#printButton2 {
  display: block;
  margin-top: 20px;
  width: 30%;
  background-color: #555555;
  color: white;
  border: none;
  padding: 10px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s ease;
}

#printButton2:hover {
  background-color: #333333;
}

#btn3{
    display: block;
  margin-top: 20px;
  width: 30%;
  background-color: #6853c9;
  color: white;
  border: none;
  padding: 10px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s ease;
}

#btn3:hover{
    background-color: #333333;
}

input[type="number"],
select {
  width: 100%;
  padding: 10px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 5px;
  box-sizing: border-box;
  transition: border-color 0.3s ease;
}

input[type="number"]:focus,
select:focus {
  outline: none;
  border-color: #008CBA;
  box-shadow: 0 0 5px rgba(0, 140, 186, 0.5);
}

input[type="submit"],
button {
  background-color: #008CBA;
  color: white;
  border: none;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s ease;
}

input[type="submit"]:hover,
button:hover {
  background-color: #005b82;
}

#result2 {
  margin-top: 20px;
  text-align: center;
  font-weight: bold;
  font-size: 20px;
}

#result3 {
  margin-top: 20px;
  text-align: center;
  font-weight: bold;
  font-size: 20px;
}

#result4 {
  margin-top: 20px;
  text-align: center;
  font-weight: bold;
  font-size: 20px;
}

#result5 {
  margin-top: 20px;
  text-align: center;
  font-weight: bold;
  font-size: 20px;
}

#result6 {
  margin-top: 20px;
  text-align: center;
  font-weight: bold;
  font-size: 20px;
}

#btndiv3{
    display: flex;
    justify-content: center;
    margin-top: 20px;
    margin-bottom: 20px;
}

#prtdiv{
    display: flex;
    justify-content:center;
    margin-bottom: 30px;
}

@media screen and (max-width: 767px) {
  .container {
    padding: 10px;
  }
  #btn3,#printButton2 {
    width: 100%;
    max-width: none;
  }
}
    </style>
    <section id="header">
        <a href="#"><img src="LogoMakerCa-1688514373726.png" class="logo" alt="" width="128px" height="72px"></a>
        <div>
            <ul id = "navbar">
                <li><a href="index.html">Calculate GPA</a></li>
                <li><a href="cgpaest.html">Estimate CGPA</a></li>
                <li><a class = "active" href="gpaest.html">Estimate GPA</a></li>
            </ul>
        </div>
    </section>
    <section onclick="toggleDropdown()" id="intro" class="hidden">
        <p>Page info <i class="fa-solid fa-caret-down" style="color: #000000;"></i></p>
        <span id="dropdownArea" class="hidden"><h6>Alright, I get it. You said it's the last time, but I know you can't resist these amazing tools. Alright then,<br><br>
        This tool will help you determine the GPA you need to score in your current semester in order to reach a specific CGPA goal. It takes into account your previous CGPA, the total number of credits upto that semester, the desired CGPA you wish to achieve and the credits in the current semester.<br><br>
        If you want to calculate only the current semester GPA, you can click <a href="index.html">here</a>.<br><br>
        If you wish to calculate your CGPA (Cumulative Grade Point Average), you can click <a href="cgpaest.html">here</a>.<br><br>
        Feel free to use the help button provided if you need any assistance.<br><br>
        I suggest you go through the <a href="Estimate.exe_Guide.pdf">guide</a> for a better understanding of this tool.</h6></span>
    </section>

    <section id="text3">
        <div><h4>Required GPA Estimator.</h4></div>
    </section>
    
    <section onclick="toggleDropdown2()" id="intro" class="hidden2">
        <p>Need Help?</p>
        <span id="dropdownArea2" class="hidden2"><h6>This tool will help you determine the GPA you need to score in your current semester in order to reach a specific CGPA goal. It takes into account your previous CGPA, the total number of credits upto that semester, the desired CGPA you wish to achieve and the credits in the current semester.<br><br>
            <b>Inputs:</b><br><br>
            <b>Previous CGPA:</b> It is the CGPA you scored upto the previous semester (before this semester).<br>
            <b>Total Credits:</b> It is the total number of credits before the current semester (upto the previous semester). DO NOT inculde the credits of the current semester.<br>
            <b>Target CGPA:</b> CGPA you wish to achieve.<br>
            <b>Credits(Current Semester):</b> Credits of the semester in which you want to calculate the required GPA (Current semester.)<br><br>
            Click on 'Estimate CGPA' to calculate the result.<br><br>
            <b>Output:</b><br><br>
            You will get the required GPA of the current semester you need to score to achieve the target CGPA.<br><br>
            <b>Note:</b>Sometimes if your Target CGPA is high then the required GPA will exceed 10. In that case try to reduce the Target CGPA<br><br>
            Feel free to refer the <a href="Estimate.exe_Guide.pdf">guide</a> for a better understanding.<br><br>
            <a href="index.html">Calculate GPA</a><br><br>
            <a href="cgpaest.html">Calculate CGPA</a>
        </h6></span>
    </section>
    <section id="gpaest">
            <form id="gpaestForm">

                <div><table id="courseTable">
                
                    <tr>
                        <td>Previous CGPA:</td>
                        <td><input type="number" step="0.01" name="prevcgpa" required></td>
                      </tr>
                      <tr>
                        <td>Total Credits(Upto Previous CGPA):</td>
                        <td><input type="number" name="prevcrd" required></td>
                      </tr>
                      <tr>
                        <td>Target CGPA:</td>
                        <td><input type="number" step="0.01" name="trgtcgpa" required></td>
                      </tr>
                      <tr>
                        <td>Credits(Current Semester):</td>
                        <td><input type="number" name="estcrd" required></td>
                      </tr>
                      </table></div>
            <div id="btndiv3"><input type="submit" id="btn3" value="Estimate GPA"></div>
            </form>
            <div id="result2"></div>
            <div id="result3"></div>
            <div id="result4"></div>
            <div id="result5"></div>
            <div id="result6"></div>
            <div id="prtdiv"><button type="button" id="printButton2">Print</button></div>

    </section>


    <section id="intro">
        <span>
            <p>Enough with the calculations, my friend! It's time to rock your studies.</p>
            <p>I'd Love to hear your <a href="mailto:p.yashwant21@ifheindia.org">Feedback</a>.</p>
        <p>Add this website to your <a href="javascript:window.external.AddFavorite('https://estimate-exe.github.io/estimate.exe/', 'Estimate.exe')">Bookmarks</a>.</p>
            </span>
        
            </section>

    <section id="footerid">
        <div id="cont1">
          <a href="index.html"><h6>Quick links -></h6></a>
          <a href="Estimate.exe_Guide.pdf"><h6>Guide</h6></a>
          <a href="Estimate.exe_Mathbehindit.pdf"><h6>Math behind it</h6></a>
        </div>
        <div id="cont1">
            <a href="index.html"><h6>GPA</h6></a>
            <a href="cgpaest.html"><h6>CGPA</h6></a>
            <a href="gpaest.html"><h6>GPA*</h6></a>
          </div>
        <div id="cont2">
            <div id="bio">
            <div id="myphoto">
                <img src="20230706_162608.jpg" width="50px" height="50px">
            </div>
            <div id="contribution">
                <h6>Created by,</h6>
                <h5>Sai Yaswanth</h5>
            </div>
            </div>
        <div id="mail">
            <h6>Feedback:</h6>
            <a href="mailto:p.yashwant21@ifheindia.org"><h5>p.yashwant21@ifheindia.org</h5></a></div>
            <div><a href="https://www.instagram.com/sai_yaswanth_07" target="_blank"><i id="insta" class="fa-brands fa-instagram fa-xl" style="color: #ffffff; padding: 30px;"></i></a></div>
            <div><a href="https://www.linkedin.com/in/pinipe-sai-yaswanth-121429239" target="_blank"><i class="fa-brands fa-linkedin-in fa-xl" style="color: #ffffff; padding: 30px;"></i></a></div>
            </div>
</section>

    <script>

function toggleDropdown() {
  var dropdown = document.getElementById('dropdownArea');
  dropdown.classList.toggle('open');
}

function toggleDropdown2() {
  var dropdown = document.getElementById('dropdownArea2');
  dropdown.classList.toggle('open');
}

var newGPA;

        document.getElementById("gpaestForm").addEventListener("submit", function(event) {
  event.preventDefault(); // Prevent form submission

  // Get input values
  var prevCGPA = parseFloat(document.querySelector('input[name="prevcgpa"]').value);
  var prevCredits = parseInt(document.querySelector('input[name="prevcrd"]').value);
  var targetCGPA = parseFloat(document.querySelector('input[name="trgtcgpa"]').value);
  var estCredits = parseInt(document.querySelector('input[name="estcrd"]').value);

  // Calculate the result
  var newGPA = (targetCGPA * (prevCredits + estCredits) - (prevCGPA * prevCredits)) / estCredits;
  var totalCredits = prevCredits+estCredits;

  // Clear previous results

  var resultDiv2 = document.getElementById("result2");
  resultDiv2.innerHTML = "";

  var resultDiv3 = document.getElementById("result3");
  resultDiv3.innerHTML = "";

  var resultDiv4 = document.getElementById("result4");
  resultDiv4.innerHTML = "";

  var resultDiv5 = document.getElementById("result5");
  resultDiv5.innerHTML = "";

  var resultDiv6 = document.getElementById("result6");
  resultDiv6.innerHTML = "";

  // Display result
  if(newGPA<=10){
  var resultDiv = document.getElementById("result2");
  resultDiv.innerHTML = "Required GPA: " + newGPA.toFixed(2) + "<br>Total Credits: " + totalCredits;

  const ngpa = newGPA*7;

  function getNearestEvenInteger(number) {
  // Round the number up to the nearest integer
  var roundedNumber = Math.ceil(number);

  // Check if the rounded number is already even
  if (roundedNumber % 2 === 0) {
    return roundedNumber;
  }

  // Calculate the next even integer
  var nextEvenInteger = roundedNumber + 1;

  // Check if the input number is already an even integer
  if (number % 2 === 0) {
    return number;
  }

  // Return the next even integer
  return nextEvenInteger;
}



input = getNearestEvenInteger(ngpa);

function generateCombinations(input) {
  // Check if the input is even and within the range
  if (input % 2 !== 0 || input < 14 || input > 70) {
    return "Invalid input! Please enter an even number within the range of 14 to 70.";
  }

  const numbers = [10, 8, 6, 4, 2];
  const combinations = [];

  // Recursive function to generate combinations
  function generate(currentCombination, remainingSum, startIndex, maxCombinations) {
    // Base case: combination length exceeds 7 or remaining sum becomes negative
    if (currentCombination.length > 7 || remainingSum < 0 || combinations.length >= maxCombinations) {
      return;
    }

    // Base case: combination length is 7 and remaining sum is zero
    if (currentCombination.length === 7 && remainingSum === 0) {
      combinations.push(currentCombination);
      return;
    }

    // Generate combinations recursively
    for (let i = startIndex; i < numbers.length; i++) {
      const number = numbers[i];
      generate(
        currentCombination.concat(number),
        remainingSum - number,
        i,
        maxCombinations
      );
      if (combinations.length >= maxCombinations) {
      break;
    }
    }
  }

  // Start generating combinations
  generate([], input, 0);


  return combinations;

}

const combs= generateCombinations(input);

function getLastCombination(input) {
  const result = generateCombinations(input);
  const lastCombination = result[result.length - 1];
  return lastCombination;
}

const lastcomb = getLastCombination(input);

function convertValuesToCharacters(result) {
  const characterMap = {
    10: 'A',
    8: 'B',
    6: 'C',
    4: 'D',
    2: 'E'
  };

  function convertRecursive(arr) {
    return arr.map(value => {
      if (Array.isArray(value)) {
        return convertRecursive(value);
      } else {
        return characterMap[value] || value;
      }
    });
  }

  return convertRecursive(result);
}

const newcombs = convertValuesToCharacters(combs);
const newlastcomb = convertValuesToCharacters(lastcomb);

function getRepeatedValuesCount(arr) {
  const frequencyMap = {};
  
  // Count the frequency of each value in the array
  for (let i = 0; i < arr.length; i++) {
    const value = arr[i];
    if (frequencyMap[value]) {
      frequencyMap[value]++;
    } else {
      frequencyMap[value] = 1;
    }
  }

  return frequencyMap;
}

const resultrep = getRepeatedValuesCount(newlastcomb);

const resultDiv3 = document.getElementById("result3");
resultDiv3.innerHTML = "*Assuming that the semester contains 7 Courses with 3 Credits each:";

const resultDiv1 = document.getElementById("result4");
resultDiv1.innerHTML = `
  In order to achieve the required GPA shown above the minimum number of each grades you have to score:<br><br>
  ${resultrep['A'] || 0}- A grades, 
  ${resultrep['B'] || 0}- B grades, 
  ${resultrep['C'] || 0}- C grades, 
  ${resultrep['D'] || 0}- D grades, 
  ${resultrep['E'] || 0}- E grades.
`;

const resultDiv4 = document.getElementById("result5");
resultDiv4.innerHTML = "Other Combinations:";


var resultDiv2 = document.getElementById("result6");
    for (let i = 0; i < combs.length; i++) {
  const combination = newcombs[i];
  resultDiv2.innerHTML += combination.join(', ') + '<br>';
}}

else{
    var resultDiv = document.getElementById("result2");
  resultDiv.innerHTML = "Your required GPA is exceeding the maximum limit of 10. Try reducing the Target CGPA";
  }

  
});


document.getElementById("printButton2").addEventListener("click", function() {
  // Hide the print button
  document.getElementById("printButton2").style.display = "none";
  
  // Show the result container (if hidden)
  document.getElementById("result2").style.display = "block";
  
  // Set the styles for printing
  document.body.style.backgroundColor = "#fff";
  document.body.style.margin = "0";
  document.body.style.padding = "20px";
  
  // Trigger the print dialog
  window.print();
  
  // Restore the original styles after printing
  document.body.style.backgroundColor = "";
  document.body.style.margin = "";
  document.body.style.padding = "";
  
  // Show the print button again
  document.getElementById("printButton2").style.display = "block";
});

    </script>
</body>
</html>